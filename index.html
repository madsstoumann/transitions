<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Transitions</title>

		<script type="module" crossorigin src="https://madsstoumann.github.io/transitions/assets/index.js"></script>
		<link rel="stylesheet" href="https://madsstoumann.github.io/transitions/assets/index.css">

		<style>
			[data-content] { position: relative; }
			body {
				--body-grid-template-rows: 1fr;
			}
			button {
				align-self: baseline;
				font-family: monospace;
				margin-inline-start: auto;
				padding: 2ch 4ch;
			}
			code {
				tab-size: 2;
			}
			details {
				font-family: monospace;
				inset-block-start: calc(100% - 2ch);
				position: sticky;
			}
			fieldset {
				border: 1px dotted #555;
				gap: 1ch;
				display: flex;
				flex-direction: column;
			}
			form {
				display: flex;
				gap: 1ch;
			}
			h2 {
				position: relative;
				z-index: 1;
			}
			img {
				height: 100%;
				inset: 0;
				object-fit: cover;
				position: absolute;
				width: 100%;
			}
			input, select {
				font-family: monospace !important;
				font-size: 1em;
			}
			label strong, legend {
				display: block;
				font-family: ui-monospace, monospace;
				font-size: x-small;
			}
			main {
				align-content: flex-start;
				block-size: 100%;
				overflow-x: hidden;
			}
			pre {
				--layout-bg: hsl(0, 0%, 12%);
				color: hsl(218, 70%, 92%);
				font-size: small;
				padding: 3ch;
			}

			@media (max-width: 1024px) {
				form {
					flex-direction: column;
				}
			}
		</style>
	</head>
	<body>

		<main data-layout="default page-gap">

			<div class="headline" data-layout="flex">
				<h1>Transitions Editor</h1>
			</div>

			<form id="app">
				<fieldset>
					<legend>Main</legend>
					<label>
						<strong>Transition</strong>
						<select id="transition">
							<option>none</option>
							<optgroup label="fade">
								<option>fade-down</option>
								<option>fade-down-left</option>
								<option>fade-down-right</option>
								<option>fade-left</option>
								<option>fade-right</option>
								<option>fade-up</option>
								<option>fade-up-left</option>
								<option>fade-up-right</option>
							</optgroup>
							<optgroup label="flip">
								<option>flip-down</option>
								<option>flip-left</option>
								<option>flip-right</option>
								<option>flip-up</option>
							</optgroup>
							<optgroup label="zoom">
								<option>zoom-in</option>
								<option>zoom-in-down</option>
								<option>zoom-in-up</option>
								<option>zoom-out</option>
							</optgroup>
						</select>
					</label>
					<label>
						<strong>Easing</strong>
						<select id="easing">
							<optgroup label="ease">
								<option selected>ease-1</option>
								<option>ease-2</option>
								<option>ease-3</option>
								<option>ease-4</option>
								<option>ease-5</option>
							</optgroup>
							<optgroup label="ease-in">
								<option>ease-in-1</option>
								<option>ease-in-2</option>
								<option>ease-in-3</option>
								<option>ease-in-4</option>
								<option>ease-in-5</option>
							</optgroup>
							<optgroup label="ease-out">
								<option>ease-out-1</option>
								<option>ease-out-2</option>
								<option>ease-out-3</option>
								<option>ease-out-4</option>
								<option>ease-out-5</option>
							</optgroup>
							<optgroup label="ease-in-out">
								<option>ease-in-out-1</option>
								<option>ease-in-out-2</option>
								<option>ease-in-out-3</option>
								<option>ease-in-out-4</option>
								<option>ease-in-out-5</option>
							</optgroup>
							<optgroup label="ease-elastic">
								<option>ease-elastic-1</option>
								<option>ease-elastic-2</option>
								<option>ease-elastic-3</option>
								<option>ease-elastic-4</option>
								<option>ease-elastic-5</option>
							</optgroup>
							<optgroup label="ease-squish">
								<option>ease-squish-1</option>
								<option>ease-squish-2</option>
								<option>ease-squish-3</option>
								<option>ease-squish-4</option>
								<option>ease-squish-5</option>
							</optgroup>
							<option>linear</option>
						</select>
					</label>
					<label>
						<strong>Duration</strong>
						<select id="duration">
							<option>100ms</option>
							<option>200ms</option>
							<option>300ms</option>
							<option selected>400ms</option>
							<option>500ms</option>
							<option>750ms</option>
							<option>1000ms</option>
							<option>1500ms</option>
							<option>2000ms</option>
						</select>
					</label>
					<label>
						<strong>Delay</strong>
						<select id="delay">
							<option selected>0ms</option>
							<option>25ms</option>
							<option>50ms</option>
							<option>75ms</option>
							<option>100ms</option>
							<option>150ms</option>
							<option>250ms</option>
							<option>500ms</option>
							<option>750ms</option>
							<option>1000ms</option>
							<option>1500ms</option>
							<option>2000ms</option>
						</select>
					</label>
				</fieldset>

				<fieldset>
					<legend>Child 1</legend>
					<label>
						<strong>Transition</strong>
						<select id="ch1transition">
							<option>none</option>
							<optgroup label="fade">
								<option>fade-down</option>
								<option>fade-down-left</option>
								<option>fade-down-right</option>
								<option>fade-left</option>
								<option>fade-right</option>
								<option>fade-up</option>
								<option>fade-up-left</option>
								<option>fade-up-right</option>
							</optgroup>
							<optgroup label="flip">
								<option>flip-down</option>
								<option>flip-left</option>
								<option>flip-right</option>
								<option>flip-up</option>
							</optgroup>
							<optgroup label="zoom">
								<option>zoom-in</option>
								<option>zoom-in-down</option>
								<option>zoom-in-up</option>
								<option>zoom-out</option>
							</optgroup>
						</select>
					</label>
					<label>
						<strong>Easing</strong>
						<select id="ch1easing">
							<optgroup label="ease">
								<option selected>inherit</option>
								<option>ease-1</option>
								<option>ease-2</option>
								<option>ease-3</option>
								<option>ease-4</option>
								<option>ease-5</option>
							</optgroup>
							<optgroup label="ease-in">
								<option>ease-in-1</option>
								<option>ease-in-2</option>
								<option>ease-in-3</option>
								<option>ease-in-4</option>
								<option>ease-in-5</option>
							</optgroup>
							<optgroup label="ease-out">
								<option>ease-out-1</option>
								<option>ease-out-2</option>
								<option>ease-out-3</option>
								<option>ease-out-4</option>
								<option>ease-out-5</option>
							</optgroup>
							<optgroup label="ease-in-out">
								<option>ease-in-out-1</option>
								<option>ease-in-out-2</option>
								<option>ease-in-out-3</option>
								<option>ease-in-out-4</option>
								<option>ease-in-out-5</option>
							</optgroup>
							<optgroup label="ease-elastic">
								<option>ease-elastic-1</option>
								<option>ease-elastic-2</option>
								<option>ease-elastic-3</option>
								<option>ease-elastic-4</option>
								<option>ease-elastic-5</option>
							</optgroup>
							<optgroup label="ease-squish">
								<option>ease-squish-1</option>
								<option>ease-squish-2</option>
								<option>ease-squish-3</option>
								<option>ease-squish-4</option>
								<option>ease-squish-5</option>
							</optgroup>
							<option>linear</option>
						</select>
					</label>
					<label>
						<strong>Duration</strong>
						<select id="ch1duration">
							<option>100ms</option>
							<option>200ms</option>
							<option>300ms</option>
							<option selected>400ms</option>
							<option>500ms</option>
							<option>750ms</option>
							<option>1000ms</option>
							<option>1500ms</option>
							<option>2000ms</option>
						</select>
					</label>
					<label>
						<strong>Delay</strong>
						<select id="ch1delay">
							<option selected>0ms</option>
							<option>25ms</option>
							<option>50ms</option>
							<option>75ms</option>
							<option>100ms</option>
							<option>150ms</option>
							<option>250ms</option>
							<option>500ms</option>
							<option>750ms</option>
							<option>1000ms</option>
							<option>1500ms</option>
							<option>2000ms</option>
						</select>
					</label>
				</fieldset>

				<fieldset>
					<legend>Child 2</legend>
					<label>
						<strong>Transition</strong>
						<select id="ch2transition">
							<option>none</option>
							<optgroup label="fade">
								<option>fade-down</option>
								<option>fade-down-left</option>
								<option>fade-down-right</option>
								<option>fade-left</option>
								<option>fade-right</option>
								<option>fade-up</option>
								<option>fade-up-left</option>
								<option>fade-up-right</option>
							</optgroup>
							<optgroup label="flip">
								<option>flip-down</option>
								<option>flip-left</option>
								<option>flip-right</option>
								<option>flip-up</option>
							</optgroup>
							<optgroup label="zoom">
								<option>zoom-in</option>
								<option>zoom-in-down</option>
								<option>zoom-in-up</option>
								<option>zoom-out</option>
							</optgroup>
						</select>
					</label>
					<label>
						<strong>Easing</strong>
						<select id="ch2easing">
							<optgroup label="ease">
								<option selected>inherit</option>
								<option>ease-1</option>
								<option>ease-2</option>
								<option>ease-3</option>
								<option>ease-4</option>
								<option>ease-5</option>
							</optgroup>
							<optgroup label="ease-in">
								<option>ease-in-1</option>
								<option>ease-in-2</option>
								<option>ease-in-3</option>
								<option>ease-in-4</option>
								<option>ease-in-5</option>
							</optgroup>
							<optgroup label="ease-out">
								<option>ease-out-1</option>
								<option>ease-out-2</option>
								<option>ease-out-3</option>
								<option>ease-out-4</option>
								<option>ease-out-5</option>
							</optgroup>
							<optgroup label="ease-in-out">
								<option>ease-in-out-1</option>
								<option>ease-in-out-2</option>
								<option>ease-in-out-3</option>
								<option>ease-in-out-4</option>
								<option>ease-in-out-5</option>
							</optgroup>
							<optgroup label="ease-elastic">
								<option>ease-elastic-1</option>
								<option>ease-elastic-2</option>
								<option>ease-elastic-3</option>
								<option>ease-elastic-4</option>
								<option>ease-elastic-5</option>
							</optgroup>
							<optgroup label="ease-squish">
								<option>ease-squish-1</option>
								<option>ease-squish-2</option>
								<option>ease-squish-3</option>
								<option>ease-squish-4</option>
								<option>ease-squish-5</option>
							</optgroup>
							<option>linear</option>
						</select>
					</label>
					<label>
						<strong>Duration</strong>
						<select id="ch2duration">
							<option>100ms</option>
							<option>200ms</option>
							<option>300ms</option>
							<option selected>400ms</option>
							<option>500ms</option>
							<option>750ms</option>
							<option>1000ms</option>
							<option>1500ms</option>
							<option>2000ms</option>
						</select>
					</label>
					<label>
						<strong>Delay</strong>
						<select id="ch2delay">
							<option selected>0ms</option>
							<option>25ms</option>
							<option>50ms</option>
							<option>75ms</option>
							<option>100ms</option>
							<option>150ms</option>
							<option>250ms</option>
							<option>500ms</option>
							<option>750ms</option>
							<option>1000ms</option>
							<option>1500ms</option>
							<option>2000ms</option>
						</select>
					</label>
				</fieldset>

				<fieldset>
					<legend>Child 3</legend>
					<label>
						<strong>Transition</strong>
						<select id="ch3transition">
							<option>none</option>
							<optgroup label="fade">
								<option>fade-down</option>
								<option>fade-down-left</option>
								<option>fade-down-right</option>
								<option>fade-left</option>
								<option>fade-right</option>
								<option>fade-up</option>
								<option>fade-up-left</option>
								<option>fade-up-right</option>
							</optgroup>
							<optgroup label="flip">
								<option>flip-down</option>
								<option>flip-left</option>
								<option>flip-right</option>
								<option>flip-up</option>
							</optgroup>
							<optgroup label="zoom">
								<option>zoom-in</option>
								<option>zoom-in-down</option>
								<option>zoom-in-up</option>
								<option>zoom-out</option>
							</optgroup>
						</select>
					</label>
					<label>
						<strong>Easing</strong>
						<select id="ch3easing">
							<optgroup label="ease">
								<option selected>inherit</option>
								<option>ease-1</option>
								<option>ease-2</option>
								<option>ease-3</option>
								<option>ease-4</option>
								<option>ease-5</option>
							</optgroup>
							<optgroup label="ease-in">
								<option>ease-in-1</option>
								<option>ease-in-2</option>
								<option>ease-in-3</option>
								<option>ease-in-4</option>
								<option>ease-in-5</option>
							</optgroup>
							<optgroup label="ease-out">
								<option>ease-out-1</option>
								<option>ease-out-2</option>
								<option>ease-out-3</option>
								<option>ease-out-4</option>
								<option>ease-out-5</option>
							</optgroup>
							<optgroup label="ease-in-out">
								<option>ease-in-out-1</option>
								<option>ease-in-out-2</option>
								<option>ease-in-out-3</option>
								<option>ease-in-out-4</option>
								<option>ease-in-out-5</option>
							</optgroup>
							<optgroup label="ease-elastic">
								<option>ease-elastic-1</option>
								<option>ease-elastic-2</option>
								<option>ease-elastic-3</option>
								<option>ease-elastic-4</option>
								<option>ease-elastic-5</option>
							</optgroup>
							<optgroup label="ease-squish">
								<option>ease-squish-1</option>
								<option>ease-squish-2</option>
								<option>ease-squish-3</option>
								<option>ease-squish-4</option>
								<option>ease-squish-5</option>
							</optgroup>
							<option>linear</option>
						</select>
					</label>
					<label>
						<strong>Duration</strong>
						<select id="ch3duration">
							<option>100ms</option>
							<option>200ms</option>
							<option>300ms</option>
							<option selected>400ms</option>
							<option>500ms</option>
							<option>750ms</option>
							<option>1000ms</option>
							<option>1500ms</option>
							<option>2000ms</option>
						</select>
					</label>
					<label>
						<strong>Delay</strong>
						<select id="ch3delay">
							<option selected>0ms</option>
							<option>25ms</option>
							<option>50ms</option>
							<option>75ms</option>
							<option>100ms</option>
							<option>150ms</option>
							<option>250ms</option>
							<option>500ms</option>
							<option>750ms</option>
							<option>1000ms</option>
							<option>1500ms</option>
							<option>2000ms</option>
						</select>
					</label>
				</fieldset>

				<fieldset>
					<legend>Variables</legend>
					<label>
						<strong>Zoom-in</strong>
						<input type="number" name="--zi" value="0.6" step="0.1" min="0.1" max="1" />
					</label>
					<label>
						<strong>Zoom-out</strong>
						<input type="number" name="--zo" value="1.2" step="0.1" min="1" max="5" />
					</label>
					<label>
						<strong>Translate X</strong>
						<input type="number" name="--tx" value="55" step="1" min="1" max="999" data-suffix="px" />
					</label>
					<label>
						<strong>Translate Y</strong>
						<input type="number" name="--ty" value="110" step="1" min="1" max="999" data-suffix="px" />
					</label>
				</fieldset>

				<button type="button" id="play">Re-Play</button>
			</form>

<div data-layout="lay-A_1-2|3 grid" id="demo">
	<div data-content data-trs>
		<h2>C1</h2>
		<img src="https://picsum.photos/800/450" />
	</div>
	<div data-content data-trs>
		<h2>C2</h2>
		<img src="https://picsum.photos/390/225" />
	</div>
	<div data-content data-trs>
		<h2>C3</h2>
		<img src="https://picsum.photos/385/225" />
	</div>
</div>

		<details>
			<summary>Show code</summary>
			<pre data-layout="default"><code id="code"></code></pre>
		</details>

		</main>


		<!-- <script type="module" src="/main.js"></script> -->
		<script>
			const nodes = demo.querySelectorAll('[data-trs]');
			const playIt = () => { demo.classList.remove('trs'); setTimeout(() => { demo.classList.add('trs'); }, 400); }

			app.addEventListener('input', (event) => {
				const id = event.target.id;
				demo.dataset.trs = transition.value;
				demo.dataset.trsde = delay.value;
				demo.dataset.trsdu = duration.value;
				demo.dataset.trstf = easing.value;

				if (event.target.name) {
					demo.style.setProperty(event.target.name, event.target.value + (event.target.dataset.suffix||''));
				}

				if (id === 'ch1delay') nodes[0].dataset.trsde = ch1delay.value;
				if (id === 'ch1duration') nodes[0].dataset.trsdu = ch1duration.value;
				if (id === 'ch1easing') nodes[0].dataset.trstf = ch1easing.value;
				if (id === 'ch1transition') nodes[0].dataset.trs = ch1transition.value;
				if (id === 'ch2delay') nodes[1].dataset.trsde = ch2delay.value;
				if (id === 'ch2duration') nodes[1].dataset.trsdu = ch2duration.value;
				if (id === 'ch2easing') nodes[1].dataset.trstf = ch2easing.value;
				if (id === 'ch2transition') nodes[1].dataset.trs = ch2transition.value;
				if (id === 'ch3delay') nodes[2].dataset.trsde = ch3delay.value;
				if (id === 'ch3duration') nodes[2].dataset.trsdu = ch3duration.value;
				if (id === 'ch3easing') nodes[2].dataset.trstf = ch3easing.value;
				if (id === 'ch3transition') nodes[2].dataset.trs = ch3transition.value;

				let str = demo.outerHTML;
				str = str.replace(/\s*data-layout\s*=\s*"[^"]*"/g, '').replace(/\s*data-content\s*=\s*"[^"]*"/g, '').replace(/\s*id\s*=\s*"[^"]*"/g, '')
				code.innerText = str

				playIt();
			})

			play.addEventListener('click', () => playIt());
		</script>
	</body>
</html>
