const b=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}};b();function k(t={callback:void 0,direction:!0,percentage:!1,velocity:!0}){let e=!1,o=0,s=0;window.addEventListener("scroll",()=>{s=window.scrollY,s<0&&(s=0),e||(window.requestAnimationFrame(()=>{m("--scroll-y",s),t.direction&&m("--scroll-d",o<s?1:0),t.percentage&&m("--scroll-p",`${s/(document.documentElement.scrollHeight-window.innerHeight)*100}%`),t.velocity&&m("--scroll-v",Math.abs(s-o)),typeof t.callback=="function"&&t.callback(),o=s,e=!1}),e=!0)})}function B(t,e={},o=[0,.25,.5,.75,1]){const s=new IntersectionObserver(n=>{n.forEach(r=>{if(r.isIntersecting){const l=r.target,a=l.dataset,i=a.scrollAdd&&a.scrollAdd.split(" "),f=e[a.scrollCallback],c=parseInt(a.scrollRatio||0,10)/100,d=a.scrollRemove&&a.scrollRemove.split(" "),u=parseInt(a.scrollUnobserve||0,10)/100;r.intersectionRatio>=c&&(l.style.setProperty("--scroll-ir",r.intersectionRatio),typeof f=="function"&&f(),a.scrollAdd&&l.classList.add(...i),a.scrollRemove&&l.classList.remove(...d),a.scrollTo&&(a.scroll=a.scrollTo),u>=0&&r.intersectionRatio>=u&&s.unobserve(l))}})},{threshold:o});t.forEach(n=>s.observe(n))}function w(t){window.addEventListener("resize",E(300,()=>{t.forEach(e=>{const o=e.getBoundingClientRect();m("--h",o.height,e),m("--w",o.width,e),m("--x",o.x,e),m("--y",o.y+S,e)})})),window.dispatchEvent(new Event("resize"))}function E(t,e){let o;return function(...s){o&&clearTimeout(o),o=setTimeout(()=>{e(...s),o=null},t)}}function v(t){return t.querySelectorAll('button, [href], input, select, summary, textarea, [tabindex]:not([tabindex="-1"])')}const S=(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0);function m(t,e,o=document.documentElement){o.style.setProperty(t,e)}function y(t,e){const o=(n,r,l=0)=>{const a=n.length-1;let i=n.indexOf(r);l!==0&&(i+=l),i<0&&(i=a),i>a&&(i=0),i>-1&&n[i].focus()},s=n=>n.length===1&&n.match(/\S/);t.forEach(n=>{const r=!e;e&&(e.__F=t[0],e.__L=t[t.length-1]);const l=[...t],a=e||n.parentNode;n.addEventListener("keydown",i=>{switch([9,13,32].includes(i.keyCode)||i.preventDefault(),i.keyCode){case 13:case 32:r?(i.preventDefault(),a.open=!a.open,a.open&&a.__F.focus()):console.log("second");break;case 37:r&&o(l,i.target,-1);break;case 39:r&&o(l,i.target,1);break;case 38:r&&(a.open=!0),a.__L.focus(),r||o(l,i.target,-1);break;case 40:r&&(a.open=!0),a.__F.focus(),r||o(l,i.target,1);break;case 36:o(l,l[0],0);break;case 35:o(l,l[l.length],0);break;case 9:r||(i.preventDefault(),o(l,i.target,i.shiftKey?-1:1));break;case 27:a.open=!1,a.firstElementChild.focus();break;default:if(s(i.key)){const f=l.filter(c=>c.innerText.toLowerCase().startsWith(i.key.toLowerCase()));o(f,i.target,f.indexOf(i.target)===-1?0:1)}break}})})}function g(t,e="top",o=400,s=0,n=1){const r="bottom top".includes(e)?"scaleY":"scaleX";let l="0% 0%";e==="bottom"&&(l="0 100%"),e==="left"&&(l="0 50%"),e==="right"&&(l="100% 50%"),t.style.transformOrigin=l,t.animate([{opacity:s,transform:`${r}(${s})`},{opacity:n,transform:`${r}(${n})`}],{fill:"forwards",easing:"cubic-bezier(0.4, 0, 0.2, 1)",delay:10,duration:o})}function C(t,e,o=800,s=null){let n=null;const r=(c,d=!1)=>c.setAttribute("aria-expanded",d),l=()=>{n&&(n.open=!1,r(n.firstElementChild))},a=t.querySelectorAll('[data-menu="level-1"]');y([...a].map(c=>c.firstElementChild),null),a.forEach(c=>{const[d,u]=c.children;u.style.opacity=0,c.addEventListener("toggle",()=>{const p=(getComputedStyle(t).getPropertyValue("--menu-panel-dir")||"top").trim();c.open?(g(u,p),r(d,!0),n&&n!==c&&l(),n=c):(r(d),g(u,p,10,1,0))}),y(v(u),c),typeof s=="function"&&s(c,d,u,e)}),document.addEventListener("click",c=>!t.contains(c.target)&&l()),e.addEventListener("click",()=>{e.setAttribute("aria-expanded",e.checked?"true":"false"),document.body.dataset.menu=e.checked?"overlay":""});const i=t.querySelectorAll('details[data-menu*="level-"]:not([data-menu="level-1"])');new ResizeObserver(c=>c.forEach(d=>{const u=d.contentRect.width>o;i.forEach(p=>p.open=u)})).observe(t.parentNode)}const T=[{name:"Books",children:[{name:"Bestsellers",children:[{name:"Stores\u2019 Bestsellers",url:"#1"},{name:"Top 100",url:"#2"},{name:"NY Times Bestsellers",url:"#3"}]},{name:"Browse",children:[{name:"Books by Author",url:"#4"},{name:"Books by Series",url:"#5"},{name:"Book Awards",url:"#6"},{name:"Collectible Editions",url:"#7"},{name:"Coming Soon by Date",url:"#8"},{name:"Kids Books",url:"#9"},{name:"New Releases",url:"#10"},{name:"Teen Books",url:"#11"},{name:"This Season\u2019s Most Anticipated Books",url:"#12"},{name:"Top Books of the Month",url:"#13"}]},{name:"Subjects",children:[{name:"Biography",url:"#14"},{name:"Business",url:"#15"},{name:"Cookbooks, Food & Wine",url:"#16"},{name:"Current Affairs & Politics",url:"#17"},{name:"Diet, Health & Fitness",url:"#18"},{name:"Fiction",url:"#19"},{name:"Graphic Novels & Comics",url:"#20"},{name:"History",url:"#21"},{name:"Mystery & Crime",url:"#22"},{name:"Sci-Fi & Fantasy",url:"#23"}]},{name:"Discover",children:[{name:"Book Graph\u2122",url:"#24"},{name:"Browsery",url:"#25"},{name:"Readouts",url:"#26"},{name:"Discover Categories",url:"#27"}]},{name:"Featured",children:[{name:"Boxed Sets\u2122",url:"#28"},{name:"Book Club",url:"#29"},{name:"Classics",url:"#30"},{name:"Exclusives",url:"#31"},{name:"Outlet\u2122",url:"#32"},{name:"Signed Books",url:"#33"},{name:"Trend Shop",url:"#34"}]},{name:"Blogs",children:[{name:"Podcast\u2122",url:"#35"},{name:"Biggest Books",url:"#36"},{name:"Reads",url:"#37"},{name:"Review",url:"#38"},{name:"Sci-Fi & Fantasy Blog",url:"#39"},{name:"Press Blog",url:"#40"}]},{name:"Special Values",children:[{name:"Coupons & Deals",url:"#41"},{name:"New Releases & Bestsellers from 20% Off",url:"#42"},{name:"Sale",url:"#43"}]}]},{name:"Comics",children:[{name:"Comics Bestsellers",children:[{name:"Stores\u2019 Bestsellers",url:"#1"},{name:"Top 100",url:"#2"},{name:"NY Times Bestsellers",url:"#3"}]}]},{name:"Games",children:[{name:"Games Bestsellers",children:[{name:"Stores\u2019 Bestsellers",url:"#1"},{name:"Top 100",url:"#2"},{name:"NY Times Bestsellers",url:"#3"}]}]},{name:"Bestsellers",children:[{name:"Main Bestsellers",children:[{name:"Stores\u2019 Bestsellers",url:"#1"},{name:"Top 100",url:"#2"},{name:"NY Times Bestsellers",url:"#3"}]}]}];function h(t,e,o="default 1-1|3 grid page-gap"){return t.map(s=>s.children?`<details role="none" data-menu="level-${e}"${e>1?" open":""}>
			<summary role="menuitem" aria-haspopup="true" aria-expanded="${e>1?"true":"false"}" data-menu="level-${e}-header"><span data-icon="${e>1?"plus":"chv-down"}">${s.name}<i></i></span></summary>
			<div role="menu" data-menu="outer-panel">${e===1?`<div data-menu="inner-panel" data-layout="${o}">${h(s.children,e+1)}</div>`:h(s.children,e+1)}</div>
		</details>`:`<a ${e>1?' role="menuitem"':""} href="${s.url}">${s.name}</a>`).join("")}k();B(document.querySelectorAll("[data-scroll]"),{hello:()=>{console.log("hello world")}});w(document.querySelectorAll("[data-live]"));document.getElementById("menu")&&(menu.innerHTML=h(T,1),C(menu,toggle));
